# 🚀 快速发布指南

## 最简单的方法

使用我为您创建的发布脚本：

```bash
# 赋予执行权限（首次运行）
chmod +x release.sh

# 发布新版本
./release.sh v1.0.0
```

脚本会自动：
- ✅ 提交所有更改
- ✅ 推送代码到 GitHub
- ✅ 创建标签
- ✅ 推送标签（触发 GitHub Actions）
- ✅ 显示构建进度链接

---

## 手动发布步骤

### 1. 提交代码

```bash
git add .
git commit -m "准备发布 v1.0.0"
git push origin main
```

### 2. 创建并推送标签

```bash
# 创建标签
git tag -a v1.0.0 -m "Release version 1.0.0"

# 推送标签
git push origin v1.0.0
```

### 3. 等待构建

- 访问：`https://github.com/你的用户名/da_song_ge/actions`
- 等待 5-10 分钟

### 4. 下载发布文件

- 访问：`https://github.com/你的用户名/da_song_ge/releases`
- 下载 Windows 和 macOS 版本

---

## 标签格式

### ✅ 正确的格式

```bash
v1.0.0          # 推荐
v1.0.1
v1.1.0
v2.0.0
```

### ❌ 错误的格式

```bash
1.0.0           # 缺少 v 前缀
version-1.0.0   # 格式不对
release-1.0.0   # 格式不对
```

---

## 版本号规则

```
v主版本.次版本.修订号

v1.0.0 → v1.0.1  # Bug 修复
v1.0.0 → v1.1.0  # 新功能
v1.0.0 → v2.0.0  # 重大更新
```

---

## 常用命令

```bash
# 查看所有标签
git tag

# 查看标签详情
git show v1.0.0

# 删除本地标签
git tag -d v1.0.0

# 删除远程标签
git push origin --delete v1.0.0

# 推送所有标签
git push origin --tags
```

---

## 🎯 完整示例

```bash
# 1. 进入项目目录
cd /Users/coderxslee/workspace/tools/da_song_ge

# 2. 确保在 main 分支
git checkout main

# 3. 拉取最新代码
git pull origin main

# 4. 使用发布脚本
./release.sh v1.0.0

# 5. 查看构建进度
# 访问 GitHub Actions 页面

# 6. 下载发布文件
# 访问 GitHub Releases 页面
```

---

## ⚠️ 注意事项

1. **标签必须以 `v` 开头**
   - ✅ `v1.0.0`
   - ❌ `1.0.0`

2. **标签格式必须是 `v数字.数字.数字`**
   - ✅ `v1.0.0`
   - ❌ `v1.0`
   - ❌ `v1`

3. **标签不能重复**
   - 如果标签已存在，需要先删除

4. **必须推送标签到 GitHub**
   - 只创建本地标签不会触发 Actions
   - 必须执行 `git push origin v1.0.0`

---

## 🔍 故障排查

### GitHub Actions 没有触发？

```bash
# 1. 检查标签是否推送成功
git ls-remote --tags origin

# 2. 检查标签格式
git tag

# 3. 重新推送标签
git push origin v1.0.0 --force
```

### 构建失败？

1. 访问 Actions 页面查看日志
2. 检查 `requirements.txt` 是否存在
3. 检查 `build.py` 是否正确

### 找不到 Release？

1. 确保标签已推送
2. 等待 Actions 完成（5-10 分钟）
3. 访问 Releases 页面刷新

---

## 📚 相关文档

- **GitHub_Actions使用指南.md** - 详细的 CI/CD 指南
- **完整解决方案总结.md** - 完整的项目总结
- **PACKAGING.md** - 打包快速指南

---

**现在您可以使用 `./release.sh v1.0.0` 一键发布新版本了！** 🎉

