# GitHub Actions è‡ªåŠ¨æ‰“åŒ…æŒ‡å—

## âœ… é…ç½®æ£€æŸ¥å®Œæˆ

GitHub Actions é…ç½®æ–‡ä»¶å·²ä¼˜åŒ–ï¼Œå¯ä»¥æ­£ç¡®åœ°åœ¨ GitHub ä¸Šè‡ªåŠ¨æ‰“åŒ… Windows å’Œ macOS ç‰ˆæœ¬ã€‚

---

## ğŸ“‹ é…ç½®æ–‡ä»¶æ”¹è¿›

### ä¸»è¦ä¿®å¤

1. **Windows è·¯å¾„é—®é¢˜**
   - âœ… æ˜ç¡®æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼š`dist/æé›ªæ¾å·¥å…·é›†.exe`
   - âœ… æ·»åŠ  shell æŒ‡å®šï¼š`shell: bash`
   - âœ… æ·»åŠ è°ƒè¯•æ­¥éª¤ï¼šåˆ—å‡º dist ç›®å½•å†…å®¹

2. **macOS æ–‡ä»¶æ‰“åŒ…**
   - âœ… åˆ›å»º ZIP å‹ç¼©åŒ…ï¼š`æé›ªæ¾å·¥å…·é›†-macos.zip`
   - âœ… ç®€åŒ–ä¸Šä¼ æµç¨‹
   - âœ… æ·»åŠ è°ƒè¯•æ­¥éª¤

3. **Release åˆ›å»º**
   - âœ… æ˜ç¡®æŒ‡å®šæ–‡ä»¶è·¯å¾„
   - âœ… æ·»åŠ è¯¦ç»†çš„ Release è¯´æ˜
   - âœ… åŒ…å«ä½¿ç”¨æŒ‡å—

4. **build.py ä¿®å¤**
   - âœ… Windows ä½¿ç”¨ `--console` æ¨¡å¼ï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰
   - âœ… ç»Ÿä¸€æ‰“åŒ…å‚æ•°

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šæ¨é€æ ‡ç­¾è§¦å‘ï¼ˆæ¨èï¼‰

```bash
# 1. æäº¤æ‰€æœ‰æ›´æ”¹
git add .
git commit -m "å‡†å¤‡å‘å¸ƒ v1.0.0"

# 2. æ¨é€åˆ° GitHub
git push origin main

# 3. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨è§¦å‘

1. è®¿é—® GitHub ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. é€‰æ‹© **Build Executables** å·¥ä½œæµ
4. ç‚¹å‡» **Run workflow** æŒ‰é’®
5. é€‰æ‹©åˆ†æ”¯å¹¶ç‚¹å‡» **Run workflow**

---

## ğŸ“¦ æ‰“åŒ…æµç¨‹

### 1. Windows æ‰“åŒ…

```yaml
- ç³»ç»Ÿï¼šwindows-latest
- Pythonï¼š3.12
- æ­¥éª¤ï¼š
  1. æ£€å‡ºä»£ç 
  2. å®‰è£… Python
  3. å®‰è£…ä¾èµ–ï¼ˆpip + pyinstaller + requirements.txtï¼‰
  4. è¿è¡Œ build.py
  5. ä¸Šä¼  æé›ªæ¾å·¥å…·é›†.exe
```

### 2. macOS æ‰“åŒ…

```yaml
- ç³»ç»Ÿï¼šmacos-latest
- Pythonï¼š3.12
- æ­¥éª¤ï¼š
  1. æ£€å‡ºä»£ç 
  2. å®‰è£… Python
  3. å®‰è£…ä¾èµ–ï¼ˆpip + pyinstaller + requirements.txtï¼‰
  4. è¿è¡Œ build.py
  5. åˆ›å»º ZIP å‹ç¼©åŒ…
  6. ä¸Šä¼  æé›ªæ¾å·¥å…·é›†-macos.zip
```

### 3. åˆ›å»º Release

```yaml
- è§¦å‘æ¡ä»¶ï¼šæ¨é€æ ‡ç­¾æ—¶
- æ­¥éª¤ï¼š
  1. ä¸‹è½½ Windows å’Œ macOS æ„å»ºäº§ç‰©
  2. åˆ›å»º GitHub Release
  3. ä¸Šä¼ å¯æ‰§è¡Œæ–‡ä»¶
  4. ç”Ÿæˆ Release è¯´æ˜
```

---

## ğŸ“Š é¢„æœŸè¾“å‡º

### Windows ç‰ˆæœ¬
- **æ–‡ä»¶å**ï¼š`æé›ªæ¾å·¥å…·é›†.exe`
- **å¤§å°**ï¼šçº¦ 20-25 MB
- **æ ¼å¼**ï¼šå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶

### macOS ç‰ˆæœ¬
- **æ–‡ä»¶å**ï¼š`æé›ªæ¾å·¥å…·é›†-macos.zip`
- **å†…å®¹**ï¼šåŒ…å« `æé›ªæ¾å·¥å…·é›†` å¯æ‰§è¡Œæ–‡ä»¶
- **å¤§å°**ï¼šçº¦ 20-25 MBï¼ˆå‹ç¼©åï¼‰

---

## ğŸ” ç›‘æ§æ„å»ºè¿‡ç¨‹

### æŸ¥çœ‹æ„å»ºæ—¥å¿—

1. è®¿é—® GitHub ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. é€‰æ‹©å¯¹åº”çš„å·¥ä½œæµè¿è¡Œ
4. æŸ¥çœ‹å„ä¸ªæ­¥éª¤çš„æ—¥å¿—

### å…³é”®æ—¥å¿—æ£€æŸ¥ç‚¹

**Windows æ„å»ºï¼š**
```
âœ… PyInstaller å·²å®‰è£…
ğŸš€ å¼€å§‹ä¸º windows å¹³å°æ‰“åŒ…...
âœ… æ‰“åŒ…æˆåŠŸï¼
ğŸ“ å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®: dist/æé›ªæ¾å·¥å…·é›†
ğŸ“Š æ–‡ä»¶å¤§å°: XX.XX MB
```

**macOS æ„å»ºï¼š**
```
âœ… PyInstaller å·²å®‰è£…
ğŸš€ å¼€å§‹ä¸º macos å¹³å°æ‰“åŒ…...
âœ… æ‰“åŒ…æˆåŠŸï¼
ğŸ“ å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®: dist/æé›ªæ¾å·¥å…·é›†
ğŸ“Š æ–‡ä»¶å¤§å°: XX.XX MB
```

---

## ğŸ“¥ ä¸‹è½½æ„å»ºäº§ç‰©

### ä» Actions ä¸‹è½½ï¼ˆæ‰€æœ‰æ„å»ºï¼‰

1. è®¿é—® **Actions** æ ‡ç­¾
2. é€‰æ‹©å®Œæˆçš„å·¥ä½œæµè¿è¡Œ
3. åœ¨ **Artifacts** éƒ¨åˆ†ä¸‹è½½ï¼š
   - `windows-executable`
   - `macos-executable`

### ä» Releases ä¸‹è½½ï¼ˆä»…æ ‡ç­¾è§¦å‘ï¼‰

1. è®¿é—® **Releases** æ ‡ç­¾
2. é€‰æ‹©å¯¹åº”ç‰ˆæœ¬
3. ä¸‹è½½ï¼š
   - `æé›ªæ¾å·¥å…·é›†.exe` (Windows)
   - `æé›ªæ¾å·¥å…·é›†-macos.zip` (macOS)

---

## ğŸ¯ Release è¯´æ˜ç¤ºä¾‹

å½“æ¨é€æ ‡ç­¾æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºåŒ…å«ä»¥ä¸‹å†…å®¹çš„ Releaseï¼š

```markdown
## ğŸ‰ æé›ªæ¾å·¥å…·é›† v1.0.0

### ğŸ“¦ ä¸‹è½½è¯´æ˜

**Windows ç”¨æˆ·ï¼š**
- ä¸‹è½½ `æé›ªæ¾å·¥å…·é›†.exe`
- åŒå‡»è¿è¡Œå³å¯

**macOS ç”¨æˆ·ï¼š**
- ä¸‹è½½ `æé›ªæ¾å·¥å…·é›†-macos.zip`
- è§£å‹åè¿è¡Œ `æé›ªæ¾å·¥å…·é›†`
- å¦‚é‡å®‰å…¨æç¤ºï¼Œæ‰§è¡Œï¼š`xattr -cr æé›ªæ¾å·¥å…·é›†`

### âš™ï¸ é¦–æ¬¡è¿è¡Œ

1. ç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š
   - Windows: `%USERPROFILE%\.coderxslee\config.yaml`
   - macOS: `~/.coderxslee/config.yaml`

2. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„æœåŠ¡å™¨ä¿¡æ¯

3. å†æ¬¡è¿è¡Œç¨‹åºå³å¯ä½¿ç”¨

### ğŸ“š æ–‡æ¡£

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·æŸ¥çœ‹é¡¹ç›® README.md
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. æ„å»ºå¤±è´¥ï¼šæ‰¾ä¸åˆ° requirements.txt

**è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿ `requirements.txt` æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•

```bash
# ç”Ÿæˆ requirements.txt
uv pip compile pyproject.toml -o requirements.txt
git add requirements.txt
git commit -m "æ·»åŠ  requirements.txt"
git push
```

### 2. Windows æ„å»ºå¤±è´¥ï¼šè·¯å¾„é—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š** å·²åœ¨é…ç½®ä¸­æ·»åŠ  `shell: bash`ï¼Œç»Ÿä¸€ä½¿ç”¨ bash shell

### 3. macOS æ„å»ºå¤±è´¥ï¼šæƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š** å·²åœ¨é…ç½®ä¸­æ­£ç¡®è®¾ç½®æ–‡ä»¶æƒé™

### 4. Release åˆ›å»ºå¤±è´¥ï¼šæƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿ä»“åº“è®¾ç½®ä¸­å¯ç”¨äº† Actions çš„å†™æƒé™

1. è®¿é—®ä»“åº“ **Settings**
2. é€‰æ‹© **Actions** > **General**
3. åœ¨ **Workflow permissions** ä¸­é€‰æ‹© **Read and write permissions**
4. ä¿å­˜è®¾ç½®

---

## ğŸ”§ é«˜çº§é…ç½®

### æ·»åŠ ä»£ç ç­¾åï¼ˆå¯é€‰ï¼‰

**Windowsï¼š**
```yaml
- name: Sign Windows executable
  run: |
    # ä½¿ç”¨ signtool ç­¾å
    signtool sign /f certificate.pfx /p ${{ secrets.CERT_PASSWORD }} dist/æé›ªæ¾å·¥å…·é›†.exe
```

**macOSï¼š**
```yaml
- name: Sign macOS executable
  run: |
    # ä½¿ç”¨ codesign ç­¾å
    codesign --force --sign "Developer ID" dist/æé›ªæ¾å·¥å…·é›†
```

### æ·»åŠ åº”ç”¨å›¾æ ‡

1. å‡†å¤‡å›¾æ ‡æ–‡ä»¶ï¼š
   - `icon.ico` (Windows)
   - `icon.icns` (macOS)

2. æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•

3. `build.py` ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨

---

## ğŸ“ ç‰ˆæœ¬å‘å¸ƒæµç¨‹

### å®Œæ•´æµç¨‹ç¤ºä¾‹

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ pyproject.toml
version = "1.0.0"

# 2. æäº¤æ›´æ”¹
git add .
git commit -m "Release v1.0.0"
git push origin main

# 3. åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0

# 4. ç­‰å¾… GitHub Actions å®Œæˆï¼ˆçº¦ 5-10 åˆ†é’Ÿï¼‰

# 5. åœ¨ Releases é¡µé¢æŸ¥çœ‹å’Œä¸‹è½½
```

---

## âœ… é…ç½®éªŒè¯æ¸…å•

- [x] GitHub Actions é…ç½®æ–‡ä»¶æ­£ç¡®
- [x] Windows æ‰“åŒ…é…ç½®æ­£ç¡®
- [x] macOS æ‰“åŒ…é…ç½®æ­£ç¡®
- [x] Release åˆ›å»ºé…ç½®æ­£ç¡®
- [x] build.py æ”¯æŒè·¨å¹³å°
- [x] requirements.txt å­˜åœ¨
- [x] æ–‡ä»¶è·¯å¾„æ­£ç¡®
- [x] Shell é…ç½®æ­£ç¡®
- [x] è°ƒè¯•æ­¥éª¤å·²æ·»åŠ 

---

## ğŸ‰ æ€»ç»“

GitHub Actions é…ç½®å·²å®Œæˆå¹¶ä¼˜åŒ–ï¼Œå¯ä»¥ï¼š

âœ… **è‡ªåŠ¨æ‰“åŒ… Windows ç‰ˆæœ¬**
- ç”Ÿæˆ `æé›ªæ¾å·¥å…·é›†.exe`
- å•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åº
- æ§åˆ¶å°æ¨¡å¼

âœ… **è‡ªåŠ¨æ‰“åŒ… macOS ç‰ˆæœ¬**
- ç”Ÿæˆ `æé›ªæ¾å·¥å…·é›†-macos.zip`
- åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶
- æ˜“äºåˆ†å‘

âœ… **è‡ªåŠ¨åˆ›å»º Release**
- æ¨é€æ ‡ç­¾æ—¶è§¦å‘
- åŒ…å«è¯¦ç»†è¯´æ˜
- é™„å¸¦ä¸‹è½½æ–‡ä»¶

âœ… **æ”¯æŒæ‰‹åŠ¨è§¦å‘**
- å¯éšæ—¶æ‰‹åŠ¨è¿è¡Œ
- æ— éœ€æ¨é€æ ‡ç­¾
- çµæ´»æ–¹ä¾¿

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **æ¨é€ä»£ç åˆ° GitHub**
   ```bash
   git add .
   git commit -m "é…ç½® GitHub Actions è‡ªåŠ¨æ‰“åŒ…"
   git push origin main
   ```

2. **åˆ›å»ºç¬¬ä¸€ä¸ªç‰ˆæœ¬**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```

3. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - è®¿é—® Actions æ ‡ç­¾æŸ¥çœ‹è¿›åº¦
   - çº¦ 5-10 åˆ†é’Ÿå®Œæˆ

4. **ä¸‹è½½å¹¶æµ‹è¯•**
   - åœ¨ Releases é¡µé¢ä¸‹è½½
   - åœ¨ Windows å’Œ macOS ä¸Šæµ‹è¯•

ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ GitHub Actions è‡ªåŠ¨æ‰“åŒ… Windows å’Œ macOS ç‰ˆæœ¬äº†ï¼ğŸ‰

